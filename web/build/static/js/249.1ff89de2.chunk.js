"use strict";(self.webpackChunknext_terminal=self.webpackChunknext_terminal||[]).push([[249],{70249:(e,n,t)=>{t.r(n),t.d(n,{default:()=>I});var a=t(9950),r=t(50559),o=t(87427),l=t(92759),s=t(2557),c=t(87827),i=t(55902),u=t(52765),d=t(48538),f=t(93766),p=t(79378),v=t(89379);const m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};var h=t(38913),y=function(e,n){return a.createElement(h.A,(0,v.A)((0,v.A)({},e),{},{ref:n,icon:m}))};y.displayName="LockOutlined";const g=a.forwardRef(y);var x=t(27646),A=t(7323),b=t(98409),k=t(28429),C=t(50070),O=t(44414);const w=e=>{let{title:n,open:t,onOk:r,onCancel:l,placeholder:s}=e;const u=(0,a.useRef)(null),[d]=c.A.useForm();(0,a.useEffect)((()=>{t&&setTimeout((()=>{u.current.focus({cursor:"start"})}),100),d.resetFields()}),[d,t]);const f=()=>{d.validateFields().then((e=>{r(e.prompt)}))};return(0,O.jsx)(o.A,{title:n,open:t,onOk:f,onCancel:l,children:(0,O.jsx)(c.A,{form:d,children:(0,O.jsx)(c.A.Item,{name:"prompt",children:(0,O.jsx)(i.A,{ref:u,onPressEnter:f,placeholder:s})})})})},{Title:j,Text:E}=r.A,I=()=>{const e=(0,k.Zp)();let[n,t]=(0,a.useState)(!1),[r,v]=(0,a.useState)({}),[m,h]=(0,a.useState)(!1),[y,I]=(0,a.useState)({});(0,a.useEffect)((()=>{(async()=>{let e=await A.A.getBranding();document.title=e.name,v(e)})()}),[]);const N=async n=>{sessionStorage.removeItem("current"),sessionStorage.removeItem("openKeys"),(0,x.WG)(n.token);let t=n.info;(0,C.lt)(t);let a=sessionStorage.getItem("assetId"),r=sessionStorage.getItem("assetName"),o=sessionStorage.getItem("protocol");a&&r&&o?t&&e("/access?assetId=".concat(a,"&assetName=").concat(r,"&protocol=").concat(o)):t&&("user"===t.type?e("/my-asset"):e("/"))},P=(e,n)=>b.A.hasText(n)?(e.totp=n,(async e=>{let n=await f.A.post("/login",e);1===n.code&&(o.A.destroyAll(),await N(n.data))})(e),!1):(l.Ay.warn("\u8bf7\u8f93\u5165\u53cc\u56e0\u7d20\u8ba4\u8bc1\u7801"),!1);return(0,O.jsxs)("div",{style:{width:"100vw",height:"100vh",backgroundColor:"#fafafa"},children:[(0,O.jsxs)(s.A,{className:"login-card",title:null,children:[(0,O.jsxs)("div",{style:{textAlign:"center",margin:"15px auto 30px auto",color:"#1890ff"},children:[(0,O.jsx)(j,{level:1,children:r.name}),(0,O.jsx)(E,{children:r.description})]}),(0,O.jsxs)(c.A,{onFinish:async e=>{t(!0);try{let n=await f.A.post("/login",e);if(100===n.code)return h(!0),void I(e);if(1!==n.code)return;N(n.data)}catch(n){l.Ay.error(n.message)}finally{t(!1)}},className:"login-form",initialValues:{username:"admin",password:"admin"},children:[(0,O.jsx)(c.A.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7\uff01"}],children:(0,O.jsx)(i.A,{prefix:(0,O.jsx)(p.A,{}),placeholder:"\u767b\u5f55\u8d26\u53f7"})}),(0,O.jsx)(c.A.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u5bc6\u7801\uff01"}],children:(0,O.jsx)(i.A.Password,{prefix:(0,O.jsx)(g,{}),placeholder:"\u767b\u5f55\u5bc6\u7801"})}),(0,O.jsx)(c.A.Item,{name:"remember",valuePropName:"checked",initialValue:!1,children:(0,O.jsx)(u.A,{children:"\u4fdd\u6301\u767b\u5f55"})}),(0,O.jsx)(c.A.Item,{children:(0,O.jsx)(d.A,{type:"primary",htmlType:"submit",className:"login-form-button",loading:n,children:"\u767b\u5f55"})})]})]}),(0,O.jsx)(w,{title:"\u53cc\u56e0\u7d20\u8ba4\u8bc1",open:m,onOk:e=>{P(y,e)},onCancel:()=>h(!1),placeholder:"\u8bf7\u8f93\u5165\u53cc\u56e0\u7d20\u8ba4\u8bc1\u7801"})]})}},98409:(e,n,t)=>{t.d(n,{A:()=>a});const a=new class{constructor(){this.hasText=function(e){return!(void 0===e||null===e||0===e.length)},this.zeroPad=function(e,n){let t=e.toString();for(;t.length<n;)t="0"+t;return t}}}},52765:(e,n,t)=>{t.d(n,{A:()=>O});var a=t(64467),r=t(58168),o=t(48738),l=t.n(o),s=t(14691),c=t(9950),i=t(5741),u=t(77643),d=t(60436),f=t(5544),p=t(33926),v=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},m=c.createContext(null),h=function(e,n){var t=e.defaultValue,o=e.children,s=e.options,u=void 0===s?[]:s,h=e.prefixCls,y=e.className,g=e.style,x=e.onChange,A=v(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),b=c.useContext(i.QO),C=b.getPrefixCls,O=b.direction,w=c.useState(A.value||t||[]),j=(0,f.A)(w,2),E=j[0],I=j[1],N=c.useState([]),P=(0,f.A)(N,2),S=P[0],K=P[1];c.useEffect((function(){"value"in A&&I(A.value||[])}),[A.value]);var V=function(){return u.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},F=C("checkbox",h),M="".concat(F,"-group"),B=(0,p.A)(A,["value","disabled"]);u&&u.length>0&&(o=V().map((function(e){return c.createElement(k,{prefixCls:F,key:e.value.toString(),disabled:"disabled"in e?e.disabled:A.disabled,value:e.value,checked:-1!==E.indexOf(e.value),onChange:e.onChange,className:"".concat(M,"-item"),style:e.style},e.label)})));var D={toggleOption:function(e){var n=E.indexOf(e.value),t=(0,d.A)(E);-1===n?t.push(e.value):t.splice(n,1),"value"in A||I(t);var a=V();null===x||void 0===x||x(t.filter((function(e){return-1!==S.indexOf(e)})).sort((function(e,n){return a.findIndex((function(n){return n.value===e}))-a.findIndex((function(e){return e.value===n}))})))},value:E,disabled:A.disabled,name:A.name,registerValue:function(e){K((function(n){return[].concat((0,d.A)(n),[e])}))},cancelValue:function(e){K((function(n){return n.filter((function(n){return n!==e}))}))}},T=l()(M,(0,a.A)({},"".concat(M,"-rtl"),"rtl"===O),y);return c.createElement("div",(0,r.A)({className:T,style:g},B,{ref:n}),c.createElement(m.Provider,{value:D},o))},y=c.forwardRef(h);const g=c.memo(y);var x=t(19389),A=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},b=function(e,n){var t,o=e.prefixCls,d=e.className,f=e.children,p=e.indeterminate,v=void 0!==p&&p,h=e.style,y=e.onMouseEnter,g=e.onMouseLeave,b=e.skipGroup,k=void 0!==b&&b,C=e.disabled,O=A(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),w=c.useContext(i.QO),j=w.getPrefixCls,E=w.direction,I=c.useContext(m),N=(0,c.useContext)(u.$W).isFormItemInput,P=(0,c.useContext)(x.A),S=C||(null===I||void 0===I?void 0:I.disabled)||P,K=c.useRef(O.value);c.useEffect((function(){null===I||void 0===I||I.registerValue(O.value)}),[]),c.useEffect((function(){if(!k)return O.value!==K.current&&(null===I||void 0===I||I.cancelValue(K.current),null===I||void 0===I||I.registerValue(O.value),K.current=O.value),function(){return null===I||void 0===I?void 0:I.cancelValue(O.value)}}),[O.value]);var V=j("checkbox",o),F=(0,r.A)({},O);I&&!k&&(F.onChange=function(){O.onChange&&O.onChange.apply(O,arguments),I.toggleOption&&I.toggleOption({label:f,value:O.value})},F.name=I.name,F.checked=-1!==I.value.indexOf(O.value));var M=l()((t={},(0,a.A)(t,"".concat(V,"-wrapper"),!0),(0,a.A)(t,"".concat(V,"-rtl"),"rtl"===E),(0,a.A)(t,"".concat(V,"-wrapper-checked"),F.checked),(0,a.A)(t,"".concat(V,"-wrapper-disabled"),S),(0,a.A)(t,"".concat(V,"-wrapper-in-form-item"),N),t),d),B=l()((0,a.A)({},"".concat(V,"-indeterminate"),v)),D=v?"mixed":void 0;return c.createElement("label",{className:M,style:h,onMouseEnter:y,onMouseLeave:g},c.createElement(s.A,(0,r.A)({"aria-checked":D},F,{prefixCls:V,className:B,disabled:S,ref:n})),void 0!==f&&c.createElement("span",null,f))};const k=c.forwardRef(b);var C=k;C.Group=g,C.__ANT_CHECKBOX=!0;const O=C},14691:(e,n,t)=>{t.d(n,{A:()=>m});var a=t(58168),r=t(64467),o=t(53986),l=t(89379),s=t(23029),c=t(92901),i=t(85501),u=t(52962),d=t(9950),f=t(48738),p=t.n(f),v=function(e){(0,i.A)(t,e);var n=(0,u.A)(t);function t(e){var a;(0,s.A)(this,t),(a=n.call(this,e)).handleChange=function(e){var n=a.props,t=n.disabled,r=n.onChange;t||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:(0,l.A)((0,l.A)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in e?e.checked:e.defaultChecked;return a.state={checked:r},a}return(0,c.A)(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,l=n.className,s=n.style,c=n.name,i=n.id,u=n.type,f=n.disabled,v=n.readOnly,m=n.tabIndex,h=n.onClick,y=n.onFocus,g=n.onBlur,x=n.onKeyDown,A=n.onKeyPress,b=n.onKeyUp,k=n.autoFocus,C=n.value,O=n.required,w=(0,o.A)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),j=Object.keys(w).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=w[n]),e}),{}),E=this.state.checked,I=p()(t,l,(e={},(0,r.A)(e,"".concat(t,"-checked"),E),(0,r.A)(e,"".concat(t,"-disabled"),f),e));return d.createElement("span",{className:I,style:s},d.createElement("input",(0,a.A)({name:c,id:i,type:u,required:O,readOnly:v,disabled:f,tabIndex:m,className:"".concat(t,"-input"),checked:!!E,onClick:h,onFocus:y,onBlur:g,onKeyUp:b,onKeyDown:x,onKeyPress:A,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:C},j)),d.createElement("span",{className:"".concat(t,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?(0,l.A)((0,l.A)({},n),{},{checked:e.checked}):null}}]),t}(d.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const m=v}}]);