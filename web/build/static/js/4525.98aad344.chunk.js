"use strict";(self.webpackChunknext_terminal=self.webpackChunknext_terminal||[]).push([[4525],{54525:(e,t,n)=>{n.d(t,{A:()=>$});var r=n(58168),o=n(89379),i=n(82284),u=n(5544),c=n(64467),a=n(53986),l=n(9950),f=n(17119),s=n(48738),v=n.n(s),d=n(78944),h=l.forwardRef((function(e,t){var n=e.height,i=e.offsetY,u=e.offsetX,a=e.children,f=e.prefixCls,s=e.onInnerResize,h=e.innerProps,m=e.rtl,g=e.extra,p={},w={display:"flex",flexDirection:"column"};return void 0!==i&&(p={height:n,position:"relative",overflow:"hidden"},w=(0,o.A)((0,o.A)({},w),{},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({transform:"translateY(".concat(i,"px)")},m?"marginRight":"marginLeft",-u),"position","absolute"),"left",0),"right",0),"top",0))),l.createElement("div",{style:p},l.createElement(d.A,{onResize:function(e){e.offsetHeight&&s&&s()}},l.createElement("div",(0,r.A)({style:w,className:v()((0,c.A)({},"".concat(f,"-holder-inner"),f)),ref:t},h),a,g)))}));h.displayName="Filler";const m=h;var g=function(e){return+setTimeout(e,16)},p=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(g=function(e){return window.requestAnimationFrame(e)},p=function(e){return window.cancelAnimationFrame(e)});var w=0,A=new Map;function y(e){A.delete(e)}var E=function(e){var t=w+=1;return function n(r){if(0===r)y(t),e();else{var o=g((function(){n(r-1)}));A.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};E.cancel=function(e){var t=A.get(e);return y(e),p(t)};const R=E;function M(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}const S=l.forwardRef((function(e,t){var n=e.prefixCls,r=e.rtl,i=e.scrollOffset,a=e.scrollRange,f=e.onStartMove,s=e.onStopMove,d=e.onScroll,h=e.horizontal,m=e.spinSize,g=e.containerSize,p=e.style,w=e.thumbStyle,A=l.useState(!1),y=(0,u.A)(A,2),E=y[0],S=y[1],b=l.useState(null),x=(0,u.A)(b,2),L=x[0],T=x[1],H=l.useState(null),k=(0,u.A)(H,2),z=k[0],C=k[1],N=!r,Y=l.useRef(),D=l.useRef(),I=l.useState(!1),P=(0,u.A)(I,2),O=P[0],_=P[1],K=l.useRef(),X=function(){clearTimeout(K.current),_(!0),K.current=setTimeout((function(){_(!1)}),3e3)},j=a-g||0,F=g-m||0,V=l.useMemo((function(){return 0===i||0===j?0:i/j*F}),[i,j,F]),W=l.useRef({top:V,dragging:E,pageY:L,startTop:z});W.current={top:V,dragging:E,pageY:L,startTop:z};var B=function(e){S(!0),T(M(e,h)),C(W.current.top),f(),e.stopPropagation(),e.preventDefault()};l.useEffect((function(){var e=function(e){e.preventDefault()},t=Y.current,n=D.current;return t.addEventListener("touchstart",e),n.addEventListener("touchstart",B),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",B)}}),[]);var q=l.useRef();q.current=j;var G=l.useRef();G.current=F,l.useEffect((function(){if(E){var e,t=function(t){var n=W.current,r=n.dragging,o=n.pageY,i=n.startTop;if(R.cancel(e),r){var u=M(t,h)-o,c=i;!N&&h?c-=u:c+=u;var a=q.current,l=G.current,f=l?c/l:0,s=Math.ceil(f*a);s=Math.max(s,0),s=Math.min(s,a),e=R((function(){d(s,h)}))}},n=function(){S(!1),s()};return window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),R.cancel(e)}}}),[E]),l.useEffect((function(){X()}),[i]),l.useImperativeHandle(t,(function(){return{delayHidden:X}}));var J="".concat(n,"-scrollbar"),Q={position:"absolute",visibility:O?null:"hidden"},U={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return h?(Q.height=8,Q.left=0,Q.right=0,Q.bottom=0,U.height="100%",U.width=m,N?U.left=V:U.right=V):(Q.width=8,Q.top=0,Q.bottom=0,N?Q.right=0:Q.left=0,U.width="100%",U.height=m,U.top=V),l.createElement("div",{ref:Y,className:v()(J,(0,c.A)((0,c.A)((0,c.A)({},"".concat(J,"-horizontal"),h),"".concat(J,"-vertical"),!h),"".concat(J,"-visible"),O)),style:(0,o.A)((0,o.A)({},Q),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:X},l.createElement("div",{ref:D,className:v()("".concat(J,"-thumb"),(0,c.A)({},"".concat(J,"-thumb-moving"),E)),style:(0,o.A)((0,o.A)({},U),w),onMouseDown:B}))}));function b(e){var t=e.children,n=e.setRef,r=l.useCallback((function(e){n(e)}),[]);return l.cloneElement(t,{ref:r})}function x(e){return function(e){return e instanceof HTMLElement||e instanceof SVGElement}(e)?e:e instanceof l.Component?f.findDOMNode(e):null}var L=n(23029),T=n(92901);const H=function(){function e(){(0,L.A)(this,e),(0,c.A)(this,"maps",void 0),(0,c.A)(this,"id",0),this.maps=Object.create(null)}return(0,T.A)(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();var k="undefined"!==typeof window&&window.document&&window.document.createElement?l.useLayoutEffect:l.useEffect,z=function(e,t){var n=l.useRef(!0);k((function(){return e(n.current)}),t),k((function(){return n.current=!1,function(){n.current=!0}}),[])};const C=z;function N(e){var t=l.useRef();t.current=e;var n=l.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}n(26429);"undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;var Y={},D=[];function I(e,t){}function P(e,t){}function O(e,t,n){t||Y[n]||(e(!1,n),Y[n]=!0)}function _(e,t){O(I,e,t)}_.preMessage=function(e){D.push(e)},_.resetWarned=function(){Y={}},_.noteOnce=function(e,t){O(P,e,t)};var K=10;function X(e,t,n){var r=l.useState(e),o=(0,u.A)(r,2),i=o[0],c=o[1],a=l.useState(null),f=(0,u.A)(a,2),s=f[0],v=f[1];return l.useEffect((function(){var r=function(e,t,n){var r,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function a(e){return void 0!==e?n(e):c}for(var l=null,f=1!==Math.abs(i-u),s=0;s<o.length;s+=1){var v=a(r[s]);if(v!==a(o[s])){l=s,f=f||v!==a(o[s+1]);break}}return null===l?null:{index:l,multiple:f}}(i||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),v(e[r.index])),c(e)}),[e]),[s]}const j="object"===("undefined"===typeof navigator?"undefined":(0,i.A)(navigator))&&/Firefox/i.test(navigator.userAgent),F=function(e,t){var n=(0,l.useRef)(!1),r=(0,l.useRef)(null);var o=(0,l.useRef)({top:e,bottom:t});return o.current.top=e,o.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e<0&&o.current.top||e>0&&o.current.bottom;return t&&i?(clearTimeout(r.current),n.current=!1):i&&!n.current||(clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)),!n.current&&i}};function V(e,t,n,r,o){var i=(0,l.useRef)(0),u=(0,l.useRef)(null),c=(0,l.useRef)(null),a=(0,l.useRef)(!1),f=F(t,n);var s=(0,l.useRef)(null),v=(0,l.useRef)(null);return[function(t){if(e){R.cancel(v.current),v.current=R((function(){s.current=null}),2);var n=t.deltaX,l=t.deltaY,d=t.shiftKey,h=n,m=l;("sx"===s.current||!s.current&&d&&l&&!n)&&(h=l,m=0,s.current="sx");var g=Math.abs(h),p=Math.abs(m);null===s.current&&(s.current=r&&g>p?"x":"y"),"y"===s.current?function(e,t){R.cancel(u.current),i.current+=t,c.current=t,f(t)||(j||e.preventDefault(),u.current=R((function(){var e=a.current?10:1;o(i.current*e),i.current=0})))}(t,m):function(e,t){o(t,!0),j||e.preventDefault()}(t,h)}},function(t){e&&(a.current=t.detail===c.current)}]}var W=14/15;var B=20;function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,B),Math.floor(t)}var G=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],J=[],Q={overflowY:"auto",overflowAnchor:"none"};function U(e,t){var n=e.prefixCls,s=void 0===n?"rc-virtual-list":n,h=e.className,g=e.height,p=e.itemHeight,w=e.fullHeight,A=void 0===w||w,y=e.style,E=e.data,M=e.children,L=e.itemKey,T=e.virtual,k=e.direction,z=e.scrollWidth,Y=e.component,D=void 0===Y?"div":Y,I=e.onScroll,P=e.onVirtualScroll,O=e.onVisibleChange,_=e.innerProps,j=e.extraRender,B=e.styles,U=(0,a.A)(e,G),Z=!(!1===T||!g||!p),$=Z&&E&&(p*E.length>g||!!z),ee="rtl"===k,te=v()(s,(0,c.A)({},"".concat(s,"-rtl"),ee),h),ne=E||J,re=(0,l.useRef)(),oe=(0,l.useRef)(),ie=(0,l.useState)(0),ue=(0,u.A)(ie,2),ce=ue[0],ae=ue[1],le=(0,l.useState)(0),fe=(0,u.A)(le,2),se=fe[0],ve=fe[1],de=(0,l.useState)(!1),he=(0,u.A)(de,2),me=he[0],ge=he[1],pe=function(){ge(!0)},we=function(){ge(!1)},Ae=l.useCallback((function(e){return"function"===typeof L?L(e):null===e||void 0===e?void 0:e[L]}),[L]),ye={getKey:Ae};function Ee(e){ae((function(t){var n=function(e){var t=e;Number.isNaN(Be.current)||(t=Math.min(t,Be.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return re.current.scrollTop=n,n}))}var Re=(0,l.useRef)({start:0,end:ne.length}),Me=(0,l.useRef)(),Se=X(ne,Ae),be=(0,u.A)(Se,1)[0];Me.current=be;var xe=function(e,t,n){var r=l.useState(0),o=(0,u.A)(r,2),i=o[0],c=o[1],a=(0,l.useRef)(new Map),f=(0,l.useRef)(new H),s=(0,l.useRef)();function v(){R.cancel(s.current)}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v();var t=function(){a.current.forEach((function(e,t){if(e&&e.offsetParent){var n=x(e),r=n.offsetHeight;f.current.get(t)!==r&&f.current.set(t,n.offsetHeight)}})),c((function(e){return e+1}))};e?t():s.current=R(t)}return(0,l.useEffect)((function(){return v}),[]),[function(r,o){var i=e(r),u=a.current.get(i);o?(a.current.set(i,o),d()):a.current.delete(i),!u!==!o&&(o?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},d,f.current,i]}(Ae,null,null),Le=(0,u.A)(xe,4),Te=Le[0],He=Le[1],ke=Le[2],ze=Le[3],Ce=l.useMemo((function(){if(!Z)return{scrollHeight:void 0,start:0,end:ne.length-1,offset:void 0};var e;if(!$)return{scrollHeight:(null===(e=oe.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:ne.length-1,offset:void 0};for(var t,n,r,o=0,i=ne.length,u=0;u<i;u+=1){var c=ne[u],a=Ae(c),l=ke.get(a),f=o+(void 0===l?p:l);f>=ce&&void 0===t&&(t=u,n=o),f>ce+g&&void 0===r&&(r=u),o=f}return void 0===t&&(t=0,n=0,r=Math.ceil(g/p)),void 0===r&&(r=ne.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,ne.length-1),offset:n}}),[$,Z,ce,ne,ze,g]),Ne=Ce.scrollHeight,Ye=Ce.start,De=Ce.end,Ie=Ce.offset;Re.current.start=Ye,Re.current.end=De;var Pe=l.useState({width:0,height:g}),Oe=(0,u.A)(Pe,2),_e=Oe[0],Ke=Oe[1],Xe=(0,l.useRef)(),je=(0,l.useRef)(),Fe=l.useMemo((function(){return q(_e.width,z)}),[_e.width,z]),Ve=l.useMemo((function(){return q(_e.height,Ne)}),[_e.height,Ne]),We=Ne-g,Be=(0,l.useRef)(We);Be.current=We;var qe=ce<=0,Ge=ce>=We,Je=F(qe,Ge),Qe=function(){return{x:ee?-se:se,y:ce}},Ue=(0,l.useRef)(Qe()),Ze=N((function(){if(P){var e=Qe();Ue.current.x===e.x&&Ue.current.y===e.y||(P(e),Ue.current=e)}}));function $e(e,t){var n=e;t?((0,f.flushSync)((function(){ve(n)})),Ze()):Ee(n)}var et=function(e){var t=e,n=z-_e.width;return t=Math.max(t,0),t=Math.min(t,n)},tt=N((function(e,t){t?((0,f.flushSync)((function(){ve((function(t){return et(t+(ee?-e:e))}))})),Ze()):Ee((function(t){return t+e}))})),nt=V(Z,qe,Ge,!!z,tt),rt=(0,u.A)(nt,2),ot=rt[0],it=rt[1];!function(e,t,n){var r,o=(0,l.useRef)(!1),i=(0,l.useRef)(0),u=(0,l.useRef)(null),c=(0,l.useRef)(null),a=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),r=i.current-t;i.current=t,n(r)&&e.preventDefault(),clearInterval(c.current),c.current=setInterval((function(){(!n(r*=W,!0)||Math.abs(r)<=.1)&&clearInterval(c.current)}),16)}},f=function(){o.current=!1,r()},s=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageY),u.current=e.target,u.current.addEventListener("touchmove",a),u.current.addEventListener("touchend",f))};r=function(){u.current&&(u.current.removeEventListener("touchmove",a),u.current.removeEventListener("touchend",f))},C((function(){return e&&t.current.addEventListener("touchstart",s),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",s),r(),clearInterval(c.current)}}),[e])}(Z,re,(function(e,t){return!Je(e,t)&&(ot({preventDefault:function(){},deltaY:e}),!0)})),C((function(){function e(e){Z&&e.preventDefault()}var t=re.current;return t.addEventListener("wheel",ot),t.addEventListener("DOMMouseScroll",it),t.addEventListener("MozMousePixelScroll",e),function(){t.removeEventListener("wheel",ot),t.removeEventListener("DOMMouseScroll",it),t.removeEventListener("MozMousePixelScroll",e)}}),[Z]),C((function(){z&&ve((function(e){return et(e)}))}),[_e.width,z]);var ut=function(){var e,t;null===(e=Xe.current)||void 0===e||e.delayHidden(),null===(t=je.current)||void 0===t||t.delayHidden()},ct=function(e,t,n,r,c,a,f,s){var v=l.useRef(),d=l.useState(null),h=(0,u.A)(d,2),m=h[0],g=h[1];return C((function(){if(m&&m.times<K){if(!e.current)return void g((function(e){return(0,o.A)({},e)}));a();var i=m.targetAlign,u=m.originAlign,l=m.index,s=m.offset,v=e.current.clientHeight,d=!1,h=i,p=null;if(v){for(var w=i||u,A=0,y=0,E=0,R=Math.min(t.length-1,l),M=0;M<=R;M+=1){var S=c(t[M]);y=A;var b=n.get(S);A=E=y+(void 0===b?r:b)}for(var x="top"===w?s:v-s,L=R;L>=0;L-=1){var T=c(t[L]),H=n.get(T);if(void 0===H){d=!0;break}if((x-=H)<=0)break}switch(w){case"top":p=y-s;break;case"bottom":p=E-v+s;break;default:var k=e.current.scrollTop;y<k?h="top":E>k+v&&(h="bottom")}null!==p&&f(p),p!==m.lastTop&&(d=!0)}d&&g((0,o.A)((0,o.A)({},m),{},{times:m.times+1,targetAlign:h,lastTop:p}))}}),[m,e.current]),function(e){if(null!==e&&void 0!==e){if(R.cancel(v.current),"number"===typeof e)f(e);else if(e&&"object"===(0,i.A)(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex((function(t){return c(t)===e.key}));var o=e.offset;g({times:0,index:n,offset:void 0===o?0:o,originAlign:r})}}else s()}}(re,ne,ke,p,Ae,(function(){return He(!0)}),Ee,ut);l.useImperativeHandle(t,(function(){return{getScrollInfo:Qe,scrollTo:function(e){var t;(t=e)&&"object"===(0,i.A)(t)&&("left"in t||"top"in t)?(void 0!==e.left&&ve(et(e.left)),ct(e.top)):ct(e)}}})),C((function(){if(O){var e=ne.slice(Ye,De+1);O(e,ne)}}),[Ye,De,ne]);var at=function(e,t,n,r){var o=l.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),i=(0,u.A)(o,2),c=i[0],a=i[1];return function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,u=c.get(o),l=c.get(i);if(void 0===u||void 0===l)for(var f=e.length,s=a.length;s<f;s+=1){var v,d=e[s],h=t(d);c.set(h,s);var m=null!==(v=n.get(h))&&void 0!==v?v:r;if(a[s]=(a[s-1]||0)+m,h===o&&(u=s),h===i&&(l=s),void 0!==u&&void 0!==l)break}return{top:a[u-1]||0,bottom:a[l]}}}(ne,Ae,ke,p),lt=null===j||void 0===j?void 0:j({start:Ye,end:De,virtual:$,offsetX:se,offsetY:Ie,rtl:ee,getSize:at}),ft=function(e,t,n,r,o,i,u){var c=u.getKey;return e.slice(t,n+1).map((function(e,n){var u=i(e,t+n,{style:{width:r}}),a=c(e);return l.createElement(b,{key:a,setRef:function(t){return o(e,t)}},u)}))}(ne,Ye,De,z,Te,M,ye),st=null;g&&(st=(0,o.A)((0,c.A)({},A?"height":"maxHeight",g),Q),Z&&(st.overflowY="hidden",z&&(st.overflowX="hidden"),me&&(st.pointerEvents="none")));var vt={};return ee&&(vt.dir="rtl"),l.createElement("div",(0,r.A)({style:(0,o.A)((0,o.A)({},y),{},{position:"relative"}),className:te},vt,U),l.createElement(d.A,{onResize:function(e){Ke({width:e.width||e.offsetWidth,height:e.height||e.offsetHeight})}},l.createElement(D,{className:"".concat(s,"-holder"),style:st,ref:re,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==ce&&Ee(t),null===I||void 0===I||I(e),Ze()},onMouseEnter:ut},l.createElement(m,{prefixCls:s,height:Ne,offsetX:se,offsetY:Ie,scrollWidth:z,onInnerResize:He,ref:oe,innerProps:_,rtl:ee,extra:lt},ft))),$&&Ne>g&&l.createElement(S,{ref:Xe,prefixCls:s,scrollOffset:ce,scrollRange:Ne,rtl:ee,onScroll:$e,onStartMove:pe,onStopMove:we,spinSize:Ve,containerSize:_e.height,style:null===B||void 0===B?void 0:B.verticalScrollBar,thumbStyle:null===B||void 0===B?void 0:B.verticalScrollBarThumb}),$&&z>_e.width&&l.createElement(S,{ref:je,prefixCls:s,scrollOffset:se,scrollRange:z,rtl:ee,onScroll:$e,onStartMove:pe,onStopMove:we,spinSize:Fe,containerSize:_e.width,horizontal:!0,style:null===B||void 0===B?void 0:B.horizontalScrollBar,thumbStyle:null===B||void 0===B?void 0:B.horizontalScrollBarThumb}))}var Z=l.forwardRef(U);Z.displayName="List";const $=Z}}]);