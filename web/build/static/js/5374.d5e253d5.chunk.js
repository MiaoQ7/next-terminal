"use strict";(self.webpackChunknext_terminal=self.webpackChunknext_terminal||[]).push([[5374],{60715:(e,t,s)=>{s.d(t,{A:()=>U});var a=s(9950),n=s(50559),i=s(87427),r=s(92759),c=s(54175),l=s(1158),o=s(48538),d=s(56231),h=s(55902),m=s(80737),u=s(52735),p=s(2557),f=s(84703),g=s(87827),y=s(31023),v=s(26142),A=s(39742),x=s(94500),b=s(2835),w=s(56149),j=s(42025),k=s(47738),z=s(46995),C=s(20735),N=s(87621),E=s(9313),H=s(51598),F=s(37866),V=s(44070),I=s(27379),S=s(21215),L=s.n(S),M=s(93766),D=s(39608),R=s(27646),T=s(83813),O=s(44414);const B=(0,a.lazy)((()=>s.e(1092).then(s.bind(s,81092)))),{Text:P}=n.A,q=i.A.confirm;class K extends a.Component{constructor(){super(...arguments),this.mkdirFormRef=a.createRef(),this.renameFormRef=a.createRef(),this.state={storageType:void 0,storageId:void 0,currentDirectory:"/",currentDirectoryInput:"/",files:[],loading:!1,currentFileKey:void 0,selectedRowKeys:[],uploading:{},callback:void 0,minHeight:280,upload:!1,download:!1,delete:!1,rename:!1,edit:!1,editorVisible:!1,fileName:"",fileContent:""},this.reSetStorageId=e=>{this.setState({storageId:e},(()=>{this.loadFiles("/")}))},this.refresh=async()=>{this.loadFiles(this.state.currentDirectory),this.state.callback&&this.state.callback()},this.loadFiles=async e=>{this.setState({loading:!0});try{(0,R.Im)(e)&&(e="/");let t=new FormData;t.append("dir",e);let s=await M.A.post("/".concat(this.state.storageType,"/").concat(this.state.storageId,"/ls"),t);if(1!==s.code)return void r.Ay.error(s.message);const a=s.data.map((e=>({key:e.path,...e}))),n=(e,t)=>{let s=e.name.toUpperCase(),a=t.name.toUpperCase();return s<a?-1:s>a?1:0};let i=a.filter((e=>!0===e.isDir));i.sort(n);let c=a.filter((e=>!1===e.isDir));c.sort(n),i.push(...c),"/"!==e&&i.splice(0,0,{key:"..",name:"..",path:"..",isDir:!0,disabled:!0}),this.setState({files:i,currentDirectory:e,currentDirectoryInput:e})}finally{this.setState({loading:!1,selectedRowKeys:[]})}},this.handleCurrentDirectoryInputChange=e=>{this.setState({currentDirectoryInput:e.target.value})},this.handleCurrentDirectoryInputPressEnter=e=>{this.loadFiles(e.target.value)},this.handleUploadDir=()=>{let e=window.document.getElementById("dir-upload").files,t=0;for(let s=0;s<e.length;s++){let a=e[s].webkitRelativePath,n=a.substring(0,a.length-e[s].name.length);this.uploadFile(e[s],this.state.currentDirectory+"/"+n,(()=>{t++,t===e.length&&this.refresh()}))}},this.handleUploadFile=()=>{let e=window.document.getElementById("file-upload").files,t=0;for(let s=0;s<e.length;s++){const a=e[s];if(!a)return;this.uploadFile(a,this.state.currentDirectory,(()=>{t++,t===e.length&&this.refresh()}))}},this.uploadFile=(e,t,s)=>{const{name:n,size:i}=e;let o="".concat(D.E8,"/").concat(this.state.storageType,"/").concat(this.state.storageId,"/upload?X-Auth-Token=").concat((0,R.gf)(),"&dir=").concat(t);const d=n,h=new XMLHttpRequest;let m=0,u=0;const p=(e,t)=>{if(e){let e=(0,O.jsxs)(a.Fragment,{children:[(0,O.jsx)("div",{children:n}),(0,O.jsxs)("div",{children:[(0,R.qI)(i)," / ",(0,R.qI)(i)]}),(0,O.jsx)(c.A,{percent:100})]});l.A.success({key:d,message:"\u4e0a\u4f20\u6210\u529f",duration:5,description:e,placement:"bottomRight"}),s&&s()}else{let e=(0,O.jsxs)(a.Fragment,{children:[(0,O.jsx)("div",{children:n}),(0,O.jsx)(P,{type:"danger",children:t})]});l.A.error({key:d,message:"\u4e0a\u4f20\u5931\u8d25",duration:10,description:e,placement:"bottomRight"})}};h.upload.addEventListener("progress",(e=>{if(e.lengthComputable){let t=(0,O.jsxs)(a.Fragment,{children:[(0,O.jsx)("div",{children:n}),(0,O.jsxs)("div",{children:[(0,R.qI)(e.loaded),"/",(0,R.qI)(i)]}),(0,O.jsx)(c.A,{percent:99})]});if(e.loaded===e.total)return void l.A.info({key:d,message:"\u5411\u76ee\u6807\u673a\u5668\u4f20\u8f93\u4e2d...",duration:null,description:t,placement:"bottomRight",onClose:()=>{h.abort(),r.Ay.info('\u60a8\u5df2\u53d6\u6d88\u4e0a\u4f20"'.concat(n,'"'),10)}});if(u=Math.min(Math.floor(100*e.loaded/e.total),99),m===u)return;t=(0,O.jsxs)(a.Fragment,{children:[(0,O.jsx)("div",{children:n}),(0,O.jsxs)("div",{children:[(0,R.qI)(e.loaded)," / ",(0,R.qI)(i)]}),(0,O.jsx)(c.A,{percent:u})]}),l.A.info({key:d,message:"\u4e0a\u4f20\u4e2d...",duration:null,description:t,placement:"bottomRight",onClose:()=>{h.abort(),r.Ay.info('\u60a8\u5df2\u53d6\u6d88\u4e0a\u4f20"'.concat(n,'"'),10)}}),m=u}}),!1),h.onreadystatechange=e=>{if(4===h.readyState)h.status>=200&&h.status<300?p(!0,"\u4e0a\u4f20\u6210\u529f"):h.status>=400&&h.status<500&&p(!1,"\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef");else{let t=e.currentTarget.responseText.split("\u32a5").filter((e=>""!==e));if(t.length>0){let e=t[t.length-1],s=parseInt(e);u=Math.min(Math.floor(100*s/i),99);let o=(0,O.jsxs)(a.Fragment,{children:[(0,O.jsx)("div",{children:n}),(0,O.jsxs)("div",{children:[(0,R.qI)(s),"/",(0,R.qI)(i)]}),(0,O.jsx)(c.A,{percent:u})]});l.A.info({key:d,message:"\u5411\u76ee\u6807\u673a\u5668\u4f20\u8f93\u4e2d...",duration:null,description:o,placement:"bottomRight",onClose:()=>{h.abort(),r.Ay.info('\u60a8\u5df2\u53d6\u6d88\u4e0a\u4f20"'.concat(n,'"'),10)}})}}},h.onerror=()=>{p(!1,"\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef")},h.open("POST",o,!0);let f=new FormData;f.append("file",e,n),h.send(f)},this.delete=async e=>{let t=new FormData;t.append("file",e);let s=await M.A.post("/".concat(this.state.storageType,"/").concat(this.state.storageId,"/rm"),t);1!==s.code&&r.Ay.error(s.message)},this.showEditor=async(e,t)=>{r.Ay.loading({key:t,content:"Loading"});let s=await M.A.get("".concat(D.E8,"/").concat(this.state.storageType,"/").concat(this.state.storageId,"/download?file=").concat(window.encodeURIComponent(t),"&t=").concat((new Date).getTime()));this.setState({currentFileKey:t,fileName:e,fileContent:s,editorVisible:!0}),r.Ay.destroy(t)},this.hideEditor=()=>{this.setState({editorVisible:!1,fileName:"",fileContent:"",currentFileKey:""})},this.edit=async()=>{this.setState({confirmLoading:!0});let e="".concat(D.E8,"/").concat(this.state.storageType,"/").concat(this.state.storageId,"/edit"),t=new FormData;t.append("file",this.state.currentFileKey),t.append("fileContent",this.state.fileContent);let s=await M.A.post(e,t);1!==s.code&&r.Ay.error(s.message),this.setState({confirmLoading:!1}),this.hideEditor()}}componentDidMount(){this.props.onRef&&this.props.onRef(this),this.props.storageId&&this.setState({storageId:this.props.storageId,storageType:this.props.storageType,callback:this.props.callback,minHeight:this.props.minHeight,upload:this.props.upload,download:this.props.download,delete:this.props.delete,rename:this.props.rename,edit:this.props.edit},(()=>{this.loadFiles(this.state.currentDirectory)}))}render(){const e=[{title:"\u540d\u79f0",dataIndex:"name",key:"name",render:(e,t)=>{let s;if(t.isDir)s=(0,O.jsx)(y.A,{});else if(t.isLink)s=(0,O.jsx)(v.A,{});else{switch(t.name.split(".").pop().toLowerCase()){case"doc":case"docx":s=(0,O.jsx)(A.A,{});break;case"xls":case"xlsx":s=(0,O.jsx)(x.A,{});break;case"bmp":case"jpg":case"jpeg":case"png":case"tif":case"gif":case"pcx":case"tga":case"exif":case"svg":case"psd":case"ai":case"webp":s=(0,O.jsx)(b.A,{});break;case"md":s=(0,O.jsx)(w.A,{});break;case"pdf":s=(0,O.jsx)(j.A,{});break;case"txt":s=(0,O.jsx)(k.A,{});break;case"zip":case"gz":case"tar":case"tgz":s=(0,O.jsx)(z.A,{});break;default:s=(0,O.jsx)(C.A,{})}}return(0,O.jsxs)("span",{className:"dode",children:[s,"\xa0\xa0",t.name]})},sorter:(e,t)=>".."===e.key||".."===t.key?0:e.name.localeCompare(t.name),sortDirections:["descend","ascend"]},{title:"\u5927\u5c0f",dataIndex:"size",key:"size",render:(e,t)=>t.isDir||t.isLink?(0,O.jsx)("span",{className:"dode"}):(0,O.jsx)("span",{className:"dode",children:(0,R.qI)(e)}),sorter:(e,t)=>".."===e.key||".."===t.key?0:e.size-t.size},{title:"\u4fee\u6539\u65e5\u671f",dataIndex:"modTime",key:"modTime",sorter:(e,t)=>".."===e.key||".."===t.key?0:e.modTime.localeCompare(t.modTime),sortDirections:["descend","ascend"],render:(e,t)=>(0,O.jsx)("span",{className:"dode",children:e})},{title:"\u5c5e\u6027",dataIndex:"mode",key:"mode",render:(e,t)=>(0,O.jsx)("span",{className:"dode",children:e})},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",width:210,render:(e,t)=>{if(".."===t.key)return;let s=!this.state.download,a=!this.state.edit;return(t.isDir||t.isLink)&&(s=!0,a=!0),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(o.A,{type:"link",size:"small",disabled:a,onClick:()=>this.showEditor(t.name,t.key),children:"\u7f16\u8f91"}),(0,O.jsx)(o.A,{type:"link",size:"small",disabled:s,onClick:async()=>{(0,R.RG)("".concat(D.E8,"/").concat(this.state.storageType,"/").concat(this.state.storageId,"/download?file=").concat(window.encodeURIComponent(t.key),"&X-Auth-Token=").concat((0,R.gf)(),"&t=").concat((new Date).getTime()))},children:"\u4e0b\u8f7d"}),(0,O.jsx)(o.A,{type:"link",size:"small",disabled:!this.state.rename,onClick:()=>{this.setState({renameVisible:!0,currentFileKey:t.key})},children:"\u91cd\u547d\u540d"}),(0,O.jsx)(d.A,{title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664\u6b64\u6587\u4ef6\u5417?",onConfirm:async()=>{await this.delete(t.key),await this.refresh()},okText:"\u662f",cancelText:"\u5426",children:(0,O.jsx)(o.A,{type:"link",size:"small",disabled:!this.state.delete,danger:!0,children:"\u5220\u9664"})})]})}}],{selectedRowKeys:t}=this.state,s={selectedRowKeys:t,onChange:e=>{this.setState({selectedRowKeys:e})},getCheckboxProps:e=>({disabled:e.disabled})};let n=t.length>0;n&&(this.state.delete||(n=!1));const c=(0,O.jsxs)("div",{className:"fs-header",children:[(0,O.jsx)("div",{className:"fs-header-left",children:(0,O.jsx)(h.A,{value:this.state.currentDirectoryInput,onChange:this.handleCurrentDirectoryInputChange,onPressEnter:this.handleCurrentDirectoryInputPressEnter})}),(0,O.jsx)("div",{className:"fs-header-right",children:(0,O.jsxs)(m.A,{children:[(0,O.jsx)("div",{className:"fs-header-right-item",children:(0,O.jsx)(u.A,{title:"\u521b\u5efa\u6587\u4ef6\u5939",children:(0,O.jsx)(o.A,{type:"primary",size:"small",disabled:!this.state.upload,icon:(0,O.jsx)(N.A,{}),onClick:()=>{this.setState({mkdirVisible:!0})},ghost:!0})})}),(0,O.jsx)("div",{className:"fs-header-right-item",children:(0,O.jsxs)(u.A,{title:"\u4e0a\u4f20\u6587\u4ef6",children:[(0,O.jsx)(o.A,{type:"primary",size:"small",icon:(0,O.jsx)(E.A,{}),disabled:!this.state.upload,onClick:()=>{window.document.getElementById("file-upload").click()},ghost:!0}),(0,O.jsx)("input",{type:"file",id:"file-upload",style:{display:"none"},onChange:this.handleUploadFile,multiple:!0})]})}),(0,O.jsx)("div",{className:"fs-header-right-item",children:(0,O.jsxs)(u.A,{title:"\u4e0a\u4f20\u6587\u4ef6\u5939",children:[(0,O.jsx)(o.A,{type:"primary",size:"small",icon:(0,O.jsx)(H.A,{}),disabled:!this.state.upload,onClick:()=>{window.document.getElementById("dir-upload").click()},ghost:!0}),(0,O.jsx)("input",{type:"file",id:"dir-upload",style:{display:"none"},onChange:this.handleUploadDir,webkitdirectory:"",multiple:!0})]})}),(0,O.jsx)("div",{className:"fs-header-right-item",children:(0,O.jsx)(u.A,{title:"\u5237\u65b0",children:(0,O.jsx)(o.A,{type:"primary",size:"small",icon:(0,O.jsx)(F.A,{}),onClick:this.refresh,ghost:!0})})}),(0,O.jsx)("div",{className:"fs-header-right-item",children:(0,O.jsx)(u.A,{title:"\u6279\u91cf\u5220\u9664",children:(0,O.jsx)(o.A,{type:"primary",size:"small",ghost:!0,danger:!0,disabled:!n,icon:(0,O.jsx)(V.A,{}),loading:this.state.delBtnLoading,onClick:()=>{let e=this.state.selectedRowKeys;const t=(0,O.jsxs)("div",{children:["\u60a8\u786e\u5b9a\u8981\u5220\u9664\u9009\u4e2d\u7684",(0,O.jsx)(P,{style:{color:"#1890FF"},strong:!0,children:e.length}),"\u6761\u8bb0\u5f55\u5417\uff1f"]});q({icon:(0,O.jsx)(I.A,{}),content:t,onOk:async()=>{for(let t=0;t<e.length;t++)".."!==e[t]&&await this.delete(e[t]);this.refresh()},onCancel(){}})}})})})]})})]});return(0,O.jsxs)("div",{children:[(0,O.jsx)(p.A,{title:c,bordered:!0,size:"small",style:{minHeight:this.state.minHeight},children:(0,O.jsx)(f.A,{columns:e,rowSelection:s,dataSource:this.state.files,size:"small",pagination:!1,loading:this.state.loading,onRow:e=>({onDoubleClick:t=>{if(e.isDir||e.isLink)if(".."===e.path){let e=this.state.currentDirectory,t=e.substring(0,e.lastIndexOf("/"));this.loadFiles(t)}else this.loadFiles(e.path)}})})}),this.state.mkdirVisible?(0,O.jsx)(i.A,{title:"\u521b\u5efa\u6587\u4ef6\u5939",visible:this.state.mkdirVisible,okButtonProps:{form:"mkdir-form",key:"submit",htmlType:"submit"},onOk:()=>{this.mkdirFormRef.current.validateFields().then((async e=>{this.mkdirFormRef.current.resetFields();let t={dir:this.state.currentDirectory+"/"+e.dir},s=L().stringify(t);this.setState({confirmLoading:!0});let a=await M.A.post("/".concat(this.state.storageType,"/").concat(this.state.storageId,"/mkdir?").concat(s));1===a.code?(r.Ay.success("\u521b\u5efa\u6210\u529f"),this.loadFiles(this.state.currentDirectory)):r.Ay.error(a.message),this.setState({confirmLoading:!1,mkdirVisible:!1})})).catch((e=>{}))},confirmLoading:this.state.confirmLoading,onCancel:()=>{this.setState({mkdirVisible:!1})},children:(0,O.jsx)(g.A,{ref:this.mkdirFormRef,id:"mkdir-form",children:(0,O.jsx)(g.A.Item,{name:"dir",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6587\u4ef6\u5939\u540d\u79f0"}],children:(0,O.jsx)(h.A,{autoComplete:"off",placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u5939\u540d\u79f0"})})})}):void 0,this.state.renameVisible?(0,O.jsx)(i.A,{title:"\u91cd\u547d\u540d",visible:this.state.renameVisible,okButtonProps:{form:"rename-form",key:"submit",htmlType:"submit"},onOk:()=>{this.renameFormRef.current.validateFields().then((async e=>{this.renameFormRef.current.resetFields();try{let t=this.state.currentDirectory;t.endsWith("/")||(t+="/");let s={oldName:this.state.currentFileKey,newName:t+e.newName};if(s.oldName===s.newName)return void r.Ay.success("\u91cd\u547d\u540d\u6210\u529f");let a=L().stringify(s);this.setState({confirmLoading:!0});let n=await M.A.post("/".concat(this.state.storageType,"/").concat(this.state.storageId,"/rename?").concat(a));1===n.code?(r.Ay.success("\u91cd\u547d\u540d\u6210\u529f"),this.refresh()):r.Ay.error(n.message)}finally{this.setState({confirmLoading:!1,renameVisible:!1})}})).catch((e=>{}))},confirmLoading:this.state.confirmLoading,onCancel:()=>{this.setState({renameVisible:!1})},children:(0,O.jsx)(g.A,{id:"rename-form",ref:this.renameFormRef,initialValues:{newName:(0,R.WP)(this.state.currentFileKey)},children:(0,O.jsx)(g.A.Item,{name:"newName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u7684\u540d\u79f0"}],children:(0,O.jsx)(h.A,{autoComplete:"off",placeholder:"\u65b0\u7684\u540d\u79f0"})})})}):void 0,(0,O.jsx)(i.A,{title:"\u7f16\u8f91 "+this.state.fileName,className:"modal-no-padding",visible:this.state.editorVisible,destroyOnClose:!0,width:.8*window.innerWidth,centered:!0,okButtonProps:{form:"rename-form",key:"submit",htmlType:"submit"},onOk:this.edit,confirmLoading:this.state.confirmLoading,onCancel:this.hideEditor,children:(0,O.jsx)(a.Suspense,{fallback:(0,O.jsx)(T.A,{}),children:(0,O.jsx)(B,{language:"javascript",height:.8*window.innerHeight,theme:"vs-dark",value:this.state.fileContent,options:{selectOnLineNumbers:!0},editorDidMount:(e,t)=>{e.focus()},editorWillUnmount:()=>{},onChange:(e,t)=>{this.setState({fileContent:e})}})})})]})}}const U=K},15374:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var a=s(9950),n=s(60715),i=s(68832),r=s(50559),c=s(92759),l=s(87094),o=s(41988),d=s(91524),h=s(50070),m=s(89379);const u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9zM713 808.5c-53.7 53.2-125 82.4-201 82.4s-147.3-29.2-201-82.4c-53.5-53.1-83-123.5-83-198.4 0-43.5 9.8-85.2 29.1-124 18.8-37.9 46.8-71.8 80.8-97.9a349.6 349.6 0 0058.6-56.8c25-30.5 44.6-64.5 58.2-101a240 240 0 0012.1-46.5c24.1 22.2 44.3 49 61.2 80.4 33.4 62.6 48.8 118.3 45.8 165.7a74.01 74.01 0 0024.4 59.8 73.36 73.36 0 0053.4 18.8c19.7-1 37.8-9.7 51-24.4 13.3-14.9 24.8-30.1 34.4-45.6 14 17.9 25.7 37.4 35 58.4 15.9 35.8 24 73.9 24 113.1 0 74.9-29.5 145.4-83 198.4z"}}]},name:"fire",theme:"outlined"};var p=s(38913),f=function(e,t){return a.createElement(p.A,(0,m.A)((0,m.A)({},e),{},{ref:t,icon:u}))};f.displayName="FireOutlined";const g=a.forwardRef(f);const y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"};var v=function(e,t){return a.createElement(p.A,(0,m.A)((0,m.A)({},e),{},{ref:t,icon:y}))};v.displayName="HeartOutlined";const A=a.forwardRef(v);var x=s(27646),b=s(93766),w=s(44414);const{Content:j}=i.A,{Title:k}=r.A;class z extends a.Component{constructor(){super(...arguments),this.state={storage:{}},this.getDefaultStorage=async()=>{let e=await b.A.get("/account/storage");1===e.code?this.setState({storage:e.data}):c.Ay.error(e.message)}}componentDidMount(){this.getDefaultStorage()}render(){let e=this.state.storage,t=(0,h.qc)()?"page-container":"page-container-user";return(0,w.jsx)("div",{children:(0,w.jsxs)(j,{className:[t],children:[(0,w.jsx)("div",{children:(0,w.jsxs)(l.A,{justify:"space-around",align:"middle",gutter:24,children:[(0,w.jsx)(o.A,{span:16,children:(0,w.jsx)(k,{level:4,children:"\u6211\u7684\u6587\u4ef6"})},1),(0,w.jsx)(o.A,{span:8,style:{textAlign:"right"},children:(0,w.jsxs)(d.A,{title:"",column:2,children:[(0,w.jsx)(d.A.Item,{label:(0,w.jsxs)("div",{children:[(0,w.jsx)(g,{})," \u5927\u5c0f\u9650\u5236"]}),children:(0,w.jsx)("strong",{children:e.limitSize<0?"\u65e0\u9650\u5236":(0,x.qI)(e.limitSize)})}),(0,w.jsx)(d.A.Item,{label:(0,w.jsxs)("div",{children:[(0,w.jsx)(A,{})," \u5df2\u7528\u5927\u5c0f"]}),children:(0,w.jsx)("strong",{children:(0,x.qI)(e.usedSize)})})]})},2)]})}),(0,w.jsx)(n.A,{storageId:(0,h.HW)().id,storageType:"storages",callback:this.getDefaultStorage,upload:!0,download:!0,delete:!0,rename:!0,edit:!0,minHeight:window.innerHeight-203})]},"page-container")})}}const C=z},9313:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="CloudUploadOutlined";const l=n.forwardRef(c)},94500:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FileExcelOutlined";const l=n.forwardRef(c)},2835:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M553.1 509.1l-77.8 99.2-41.1-52.4a8 8 0 00-12.6 0l-99.8 127.2a7.98 7.98 0 006.3 12.9H696c6.7 0 10.4-7.7 6.3-12.9l-136.5-174a8.1 8.1 0 00-12.7 0zM360 442a40 40 0 1080 0 40 40 0 10-80 0zm494.6-153.4L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-image",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FileImageOutlined";const l=n.forwardRef(c)},56149:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM429 481.2c-1.9-4.4-6.2-7.2-11-7.2h-35c-6.6 0-12 5.4-12 12v272c0 6.6 5.4 12 12 12h27.1c6.6 0 12-5.4 12-12V582.1l66.8 150.2a12 12 0 0011 7.1H524c4.7 0 9-2.8 11-7.1l66.8-150.6V758c0 6.6 5.4 12 12 12H641c6.6 0 12-5.4 12-12V486c0-6.6-5.4-12-12-12h-34.7c-4.8 0-9.1 2.8-11 7.2l-83.1 191-83.2-191z"}}]},name:"file-markdown",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FileMarkdownOutlined";const l=n.forwardRef(c)},42025:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-pdf",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FilePdfOutlined";const l=n.forwardRef(c)},47738:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FileTextOutlined";const l=n.forwardRef(c)},39742:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 00-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 00-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"}}]},name:"file-word",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FileWordOutlined";const l=n.forwardRef(c)},46995:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"}}]},name:"file-zip",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FileZipOutlined";const l=n.forwardRef(c)},87621:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FolderAddOutlined";const l=n.forwardRef(c)},31023:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z",fill:e}},{tag:"path",attrs:{d:"M372.5 256H184v512h656V370.4H492.1z",fill:t}}]}},name:"folder",theme:"twotone"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="FolderTwoTone";const l=n.forwardRef(c)},51598:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(89379),n=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};var r=s(38913),c=function(e,t){return n.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="UploadOutlined";const l=n.forwardRef(c)},41988:(e,t,s)=>{s.d(t,{A:()=>a});const a=s(55352).A},91524:(e,t,s)=>{s.d(t,{h:()=>A,A:()=>j});var a=s(64467),n=s(5544),i=s(82284),r=s(48738),c=s.n(r),l=s(18909),o=s(9950),d=s(5741),h=s(39156),m=s(86557);const u=function(e){return e.children};var p=s(58168);function f(e){return void 0!==e&&null!==e}const g=function(e){var t,s=e.itemPrefixCls,n=e.component,i=e.span,r=e.className,l=e.style,d=e.labelStyle,h=e.contentStyle,m=e.bordered,u=e.label,p=e.content,g=e.colon,y=n;return m?o.createElement(y,{className:c()((t={},(0,a.A)(t,"".concat(s,"-item-label"),f(u)),(0,a.A)(t,"".concat(s,"-item-content"),f(p)),t),r),style:l,colSpan:i},f(u)&&o.createElement("span",{style:d},u),f(p)&&o.createElement("span",{style:h},p)):o.createElement(y,{className:c()("".concat(s,"-item"),r),style:l,colSpan:i},o.createElement("div",{className:"".concat(s,"-item-container")},(u||0===u)&&o.createElement("span",{className:c()("".concat(s,"-item-label"),(0,a.A)({},"".concat(s,"-item-no-colon"),!g)),style:d},u),(p||0===p)&&o.createElement("span",{className:c()("".concat(s,"-item-content")),style:h},p)))};function y(e,t,s){var a=t.colon,n=t.prefixCls,i=t.bordered,r=s.component,c=s.type,l=s.showLabel,d=s.showContent,h=s.labelStyle,m=s.contentStyle;return e.map((function(e,t){var s=e.props,u=s.label,f=s.children,y=s.prefixCls,v=void 0===y?n:y,A=s.className,x=s.style,b=s.labelStyle,w=s.contentStyle,j=s.span,k=void 0===j?1:j,z=e.key;return"string"===typeof r?o.createElement(g,{key:"".concat(c,"-").concat(z||t),className:A,style:x,labelStyle:(0,p.A)((0,p.A)({},h),b),contentStyle:(0,p.A)((0,p.A)({},m),w),span:k,colon:a,component:r,itemPrefixCls:v,bordered:i,label:l?u:null,content:d?f:null}):[o.createElement(g,{key:"label-".concat(z||t),className:A,style:(0,p.A)((0,p.A)((0,p.A)({},h),x),b),span:1,colon:a,component:r[0],itemPrefixCls:v,bordered:i,label:u}),o.createElement(g,{key:"content-".concat(z||t),className:A,style:(0,p.A)((0,p.A)((0,p.A)({},m),x),w),span:2*k-1,component:r[1],itemPrefixCls:v,bordered:i,content:f})]}))}const v=function(e){var t=o.useContext(A),s=e.prefixCls,a=e.vertical,n=e.row,i=e.index,r=e.bordered;return a?o.createElement(o.Fragment,null,o.createElement("tr",{key:"label-".concat(i),className:"".concat(s,"-row")},y(n,e,(0,p.A)({component:"th",type:"label",showLabel:!0},t))),o.createElement("tr",{key:"content-".concat(i),className:"".concat(s,"-row")},y(n,e,(0,p.A)({component:"td",type:"content",showContent:!0},t)))):o.createElement("tr",{key:i,className:"".concat(s,"-row")},y(n,e,(0,p.A)({component:r?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))};var A=o.createContext({}),x={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function b(e,t,s){var a=e;return(void 0===t||t>s)&&(a=(0,h.Ob)(e,{span:s})),a}function w(e){var t,s=e.prefixCls,r=e.title,h=e.extra,u=e.column,p=void 0===u?x:u,f=e.colon,g=void 0===f||f,y=e.bordered,w=e.layout,j=e.children,k=e.className,z=e.style,C=e.size,N=e.labelStyle,E=e.contentStyle,H=o.useContext(d.QO),F=H.getPrefixCls,V=H.direction,I=F("descriptions",s),S=o.useState({}),L=(0,n.A)(S,2),M=L[0],D=L[1],R=function(e,t){if("number"===typeof e)return e;if("object"===(0,i.A)(e))for(var s=0;s<m.ye.length;s++){var a=m.ye[s];if(t[a]&&void 0!==e[a])return e[a]||x[a]}return 3}(p,M);o.useEffect((function(){var e=m.Ay.subscribe((function(e){"object"===(0,i.A)(p)&&D(e)}));return function(){m.Ay.unsubscribe(e)}}),[]);var T=function(e,t){var s=(0,l.A)(e).filter((function(e){return e})),a=[],n=[],i=t;return s.forEach((function(e,r){var c,l=null===(c=e.props)||void 0===c?void 0:c.span,o=l||1;if(r===s.length-1)return n.push(b(e,l,i)),void a.push(n);o<i?(i-=o,n.push(e)):(n.push(b(e,o,i)),a.push(n),i=t,n=[])})),a}(j,R),O=o.useMemo((function(){return{labelStyle:N,contentStyle:E}}),[N,E]);return o.createElement(A.Provider,{value:O},o.createElement("div",{className:c()(I,(t={},(0,a.A)(t,"".concat(I,"-").concat(C),C&&"default"!==C),(0,a.A)(t,"".concat(I,"-bordered"),!!y),(0,a.A)(t,"".concat(I,"-rtl"),"rtl"===V),t),k),style:z},(r||h)&&o.createElement("div",{className:"".concat(I,"-header")},r&&o.createElement("div",{className:"".concat(I,"-title")},r),h&&o.createElement("div",{className:"".concat(I,"-extra")},h)),o.createElement("div",{className:"".concat(I,"-view")},o.createElement("table",null,o.createElement("tbody",null,T.map((function(e,t){return o.createElement(v,{key:t,index:t,colon:g,prefixCls:I,vertical:"vertical"===w,bordered:y,row:e})})))))))}w.Item=u;const j=w},87094:(e,t,s)=>{s.d(t,{A:()=>a});const a=s(78786).A}}]);